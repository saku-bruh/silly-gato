/* ================================================================
   GLOBAL VARIABLES & RESET
   ================================================================ */
:root{
  --accent:#ff5f9e;
  --bg-1:#000;
  --bg-2:#1e1e1e;
  --border:#fff;
  --text-light:#fff;
}

/* remove margin/padding flash & stop sideways scroll everywhere  */
*,
*::before,
*::after{box-sizing:border-box;margin:0;padding:0}

body{
  min-height:100vh;
  overflow-x:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:var(--text-light);
  background:linear-gradient(160deg,var(--bg-1),var(--bg-2));
  font-family:'ComicSansCustom',sans-serif;
}

/* hide any element with the hidden attribute regardless of later rules */
[hidden]{display:none!important}

/* ================================================================
   FONTS
   ================================================================ */
@font-face{
  font-family:'ComicSansCustom';
  src:url('fonts/comicsans.ttf') format('truetype');
  font-display:swap;
}

/* ================================================================
   HEADER & NAV
   ================================================================ */
.title{
  margin-top:1.2rem;
  font-size:clamp(1.8rem,6vw,2.6rem);
  text-align:center;
}

nav{
  margin-top:2rem;
  width:100%;
  display:flex;
  justify-content:center;
}

ul.tabs{
  display:flex;
  gap:1rem;
  flex-wrap:wrap;
  list-style:none;
}

ul.tabs button{
  background:var(--accent);
  border:none;
  color:#fff;
  padding:.55rem 1.2rem;
  font-size:clamp(.9rem,3.6vw,1rem);
  border-radius:50px;
  cursor:pointer;
  transition:transform .2s;
  position:relative;
}
ul.tabs button:hover,
ul.tabs button.active{transform:scale(1.06)}

ul.tabs button.active::after{
  content:'';
  position:absolute;
  inset:-3px;
  border:2px solid var(--accent);
  border-radius:50px;
  filter:blur(4px);
  opacity:.6;
}

/* ================================================================
   SECTIONS (layout wrapper)
   ================================================================ */
main>section{
  width:100%;
  max-width:900px;
  padding:0 1rem;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* ================================================================
   RANDOM CAT FRAME
   ================================================================ */
#frame{
  width:100%;
  max-width:640px;
  aspect-ratio:3/2;
  margin-top:1.5rem;
  border:4px dashed var(--border);
  border-radius:16px;
  overflow:hidden;
  position:relative;
  box-shadow:0 8px 30px rgb(0 0 0 / .35);
}

#frame img{
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:0;
  transition:opacity .4s ease;
}
#frame img.loaded{opacity:1}

/* Loader */
.loader{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  backdrop-filter:blur(6px);
  background:#ffffff0b;
}
.spinner{
  width:50px;height:50px;
  border:6px solid #fff3;
  border-top-color:#fff;
  border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ================================================================
   CONTROLS
   ================================================================ */
.controls{
  margin-top:1.1rem;
  display:flex;
  gap:.8rem;
  flex-wrap:wrap;
  justify-content:center;
}

button.primary{
  background:#fff;
  color:#000;
  font-weight:600;
  padding:.7rem 1.5rem;
  border:none;
  border-radius:8px;
  cursor:pointer;
  transition:transform .15s;
  font-size:clamp(.92rem,3.8vw,1rem);
}
button.primary:hover{transform:scale(1.05)}
button.primary:disabled{opacity:.45;cursor:not-allowed}

.gif-toggle{
  font-size:clamp(.85rem,3.6vw,.95rem);
  cursor:pointer;
  user-select:none;
}

/* ================================================================
   CAT FACT (responsive & readable)
   ================================================================ */
.cat-fact{
  margin-top:1rem;
  max-width:92vw;
  text-align:center;
  font-size:clamp(.9rem,4vw,1.05rem);
  color:#ffcc99;
  text-transform:lowercase;
  overflow-wrap:break-word;
  padding:0 .6rem;
}

/* ================================================================
   MASONRY GRID  â€“ centred on desktop, tidy on phones
   ================================================================ */
.masonry{
  width:100%;
  margin-top:20px;
  display:grid;
  gap:14px;
  justify-content:center;
  grid-auto-flow:dense;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
}

@media (max-width:480px){
  .masonry{
    gap:10px;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  }
}

/* Thumbnails */
.masonry img{
  width:100%;
  height:100%;
  aspect-ratio:1/1;
  object-fit:cover;
  border-radius:8px;
  opacity:0;
  transition:opacity .4s ease;
}
.masonry img.loaded{opacity:1}

/* shrink grid columns gracefully on narrow phones */
@media (max-width:480px){
  .masonry{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px}
}

#btnClear{
  display:block;
  margin:22px auto 0;
}

/* ================================================================
   TOAST
   ================================================================ */
#toast{
  position:fixed;
  bottom:30px;left:50%;translate:-50% 0;
  background:#e53935;
  color:#fff;
  padding:.8rem 1.4rem;
  border-radius:8px;
  opacity:0;
  pointer-events:none;
  transition:opacity .4s ease;
  font-size:clamp(.8rem,3.5vw,.95rem);
}
#toast.show{opacity:1}

/* ================================================================
   CONFETTI (unchanged)
   ================================================================ */
.confetti{
  position:fixed;top:-15vh;width:8px;height:12px;pointer-events:none;
  z-index:9999;
  animation:fall 3.5s linear forwards,spinZ 3s linear infinite;
}
@keyframes fall{to{top:105vh;opacity:0}}
@keyframes spinZ{to{transform:rotate(360deg)}}

/* ================================================================
   FULLSCREEN PREVIEW OVERLAY
   ================================================================ */
#overlay{
  position:fixed;inset:0;z-index:10000;
  background:rgba(0,0,0,.85);
  backdrop-filter:blur(4px);
  display:flex;align-items:center;justify-content:center;
}
#overlay img{
  max-width:90vw;max-height:90vh;
  object-fit:contain;
  border-radius:10px;
  box-shadow:0 8px 32px rgba(0,0,0,.6);
}
#overlayClose{
  position:absolute;top:18px;right:22px;
  font-size:2.4rem;line-height:1;
  background:none;border:none;color:#fff;cursor:pointer;padding:0;
  filter:drop-shadow(0 0 4px #000);
}
#overlayClose:hover{opacity:.75}
@media (max-width:480px){#overlayClose{font-size:2rem;top:14px;right:16px}}

/* ================================================================
   REDUCE-MOTION ACCESSIBILITY
   ================================================================ */
@media (prefers-reduced-motion:reduce){
  *{animation-duration:.001ms!important;animation-iteration-count:1!important;transition-duration:.001ms!important}
}
